(this["webpackJsonpstreaming-poc"]=this["webpackJsonpstreaming-poc"]||[]).push([[0],{231:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(42),s=n.n(r),d=n(235),i=n(36),j=n(100),l=n(233),u=n(43),b=[],o=function(e,t){return e?window.setInterval((function(){var t,n,a=(t=0,n=e.length,Math.floor(Math.random()*(n-t)+t)),c=e[a],r=Object(u.a)(Object(u.a)({},c),{},{value:c.value+Math.random()-.5,percentage:c.percentage+Math.random()-.5});b.forEach((function(e){e(r)}))}),t):-1},m=function(e){return function(e){return new Array(e).fill(0).map((function(e,t){return{name:"".concat(t),percentage:10*Math.random()+Math.random(),value:1e3*Math.random()+Math.random()}}))}(e)},O=n(94),h=n(64),x=Object(h.b)({name:"items",initialState:{data:{}},reducers:{updateItem:function(e,t){e.data[t.payload.name]=t.payload},setItems:function(e,t){e.data=t.payload.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(O.a)({},t.name,t))}),{})}}}),p=x.actions,v=p.updateItem,f=p.setItems,I=x.reducer,y=n(7),M=function(e){var t,n,a=e.item,c=Object(i.c)((function(e){return e.items.data[a.name]}));return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:Object(y.jsx)("p",{className:"dnb-p",children:Object(y.jsx)("b",{children:null===c||void 0===c?void 0:c.name})})}),Object(y.jsx)("td",{children:null===c||void 0===c||null===(t=c.value)||void 0===t?void 0:t.toFixed(2)}),Object(y.jsx)("td",{children:null===c||void 0===c||null===(n=c.percentage)||void 0===n?void 0:n.toFixed(2)})]})},S=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.streamState})),n=Object(a.useState)([]),c=Object(j.a)(n,2),r=c[0],s=c[1],d=function(t){e(v(t))};return Object(a.useEffect)((function(){var n,a=m(t.numItems),c=o(a,t.updateIntervalMs);return e(f(a)),s(a),n=d,b.push(n),function(){clearInterval(c)}}),[]),Object(y.jsxs)(l.a,{className:"dnb-table .dnb-table--fixed",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Value"}),Object(y.jsx)("th",{children:"% Change"})]})}),Object(y.jsx)("tbody",{children:r.map((function(e){return Object(y.jsx)(M,{item:e},e.name)}))})]})},g=n(234),w=n(140),k=Object(h.b)({name:"fake-stream",initialState:{numItems:10,updateIntervalMs:500},reducers:{setStreamState:function(e,t){e.numItems=t.payload.numItems,e.updateIntervalMs=t.payload.updateIntervalMs}}}),N=k.actions.setStreamState,E=k.reducer,C=function(){var e=Object(i.c)((function(e){return e.streamState})),t=Object(i.b)(),n=Object(a.useState)({numItems:e.numItems,updateInterval:e.updateIntervalMs}),c=Object(j.a)(n,2),r=c[0],s=c[1];return Object(y.jsxs)("div",{children:[Object(y.jsxs)(l.a,{className:"dnb-table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",children:"Setting"}),Object(y.jsx)("th",{scope:"col",children:"Value"})]})}),Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"Update interval MS"}),Object(y.jsx)("td",{children:Object(y.jsx)(g.a,{type:"number",value:r.updateInterval,on_change:function(e){return s(Object(u.a)(Object(u.a)({},r),{},{updateInterval:parseInt(e.value)}))}})})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"# Items"}),Object(y.jsx)("td",{children:Object(y.jsx)(g.a,{type:"number",value:r.numItems,on_change:function(e){s(Object(u.a)(Object(u.a)({},r),{},{numItems:parseInt(e.value)}))}})})]})]})]}),Object(y.jsx)(w.b,{variant:"secondary",style:{width:"100%"},onClick:function(){t(N({numItems:r.numItems,updateIntervalMs:r.updateInterval}))},children:"Update values"})]})};var F=function(){var e=Object(i.c)((function(e){return e.streamState}));return Object(y.jsxs)("div",{style:{maxWidth:"80rem",margin:"0 auto"},children:[Object(y.jsx)(d.a,{style:{fontSize:"1.5rem"},children:"RTK collection updates"}),Object(y.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[Object(y.jsx)("div",{style:{flex:"5"},children:Object(y.jsx)(S,{})},"".concat(e.numItems,".").concat(e.updateIntervalMs)),Object(y.jsx)("div",{style:{flex:"2"},children:Object(y.jsx)(C,{})})]})]})},J=(n(227),Object(h.a)({reducer:{items:I,streamState:E}}));s.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(i.a,{store:J,children:Object(y.jsx)(F,{})})}),document.getElementById("root"))}},[[231,1,2]]]);
//# sourceMappingURL=main.428f22b0.chunk.js.map